<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>
        Django Login Test
    </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>
    $(document).ready(function(){

        console.log("ready");

        $("#signup").hide();

        $("#btn_signup").click(function(){
            //alert("Please Sign Up")
            $("#signup").show();
            $("#login").hide();
        });

        $("#btn_reg").click(function(){
            alert(444);
            location.reload();
            //alert("Regist Success")
            $("#signup").hide();
            $("#login").show();
        });

    });

function btn_reg(){
    var sign_id = $('#sign_id').val();
    var sign_pw = $('#sign_pw').val();
    var sign_pw2 = $('#sign_pw2').val();
    var sign_name = $('#sign_name').val();
    var lock = 0;

    if(sign_id == ''){
        swal("입력 오류", "아이디 값을 입력하세요", "info");
        lock = 1;
    }
    else if(sign_pw == ''){
        swal("입력 오류", "비밀번호 값을 입력하세요", "info");
        lock = 1;
    }
    else if(sign_name == ''){
        swal("입력 오류", "이름 값을 입력하세요", "info");
        lock = 1;
    }
    else if(sign_pw != sign_pw2){
        swal("입력 오류", "패스워드가 일치하지 않습니다", "info");
        lock = 1;
    }

    if(lock == 0){
        $.ajax({
            type: "GET",
            url: "/main/regist",
            async: false,
            data: {
                sign_id: sign_id,
                sign_pw: sign_pw,
                sign_name: sign_name
            },
            success: function (data) {
                if(data.return == 'success'){
                    alert("Create!");
                }
            },
        });
    }


}
</script>

</head>
<body>
<br>

<!--<div  id="Login" class="input-group-prepend">-->
<div id="login">
<h1> Login</h1>

    <span class="input-group-text" id="login_id">ID  </span>
  <input type="text" class="form-control"><br>

    <span class="input-group-text" id="login_pw">PassWord  </span>
  <input type="text" class="form-control"><br>


    <button type="button" class="btn btn-success">Login</button>
    <button id="btn_signup"type="button" class="btn btn-info">Sign Up</button>
</div>
<!--</div>-->

<!--=======================================================================-->
<!--<div id = "regist" class="input-group-prepend">-->
<div id="signup">
    <h1> Sign Up</h1>

    <span class="input-group-text"  >ID  </span>
  <input id="sign_id" type="text" class="form-control"><br>

    <span class="input-group-text" > PassWord  </span>
  <input id="sign_pw" type="password" class="form-control"><br>

     <span class="input-group-text" > PassWord check  </span>
  <input id="sign_pw2" type="password" class="form-control"><br>

     <span class="input-group-text" > Name  </span>
  <input  id="sign_name" type="text" class="form-control"><br>

     <button onclick="btn_reg()" type="button" class="btn btn-info">Regist</button>
    <!--,location.reload()-->
</div>
<!--</div>-->


</body>
</html>